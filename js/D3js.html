
<script src="http://d3js.org/d3.v3.min.js"></script>

<a href="https://www.youtube.com/watch?v=x8dwXoWODZ4&index=14&list=PL6il2r9i3BqH9PmbOf5wA5E1wOG3FT22p&t=210s">youtube</a>

<pre>
python -m SimpleHTTPServer 8000
</pre>

<h1>Paragraph</h1>

<script>

// D3 tutorial 1-9 parts

d3.select('h1').text('Hello World').style('color','green');

svg = d3.select('body').append('svg').attr('id','vector');

var datArr = [20,40,50,60];

const W = 512;

var scale = d3.scale.linear()
	.domain([0,d3.max(datArr)])
	.range([0,W])
;

var color = d3.scale.linear()
	.domain([0,d3.max(datArr)])
	.range(['red','lightblue'])
;

svg.style('border','2pt solid black')
	.attr('width' ,W+11)
	.attr('height','550');

// vector
	
var vector = svg.append('g').attr('id','vector')
	.attr('transform','translate(11,33)');
	
vector.append('circle')
	.attr('cx',50).attr('cy',150)
	.attr('r',15)
	.attr('fill','darkred')
	.attr('stroke','blue')
	.attr('stroke-width','3')
;
	
vector.append('rect')
	.attr('width' ,'111')
	.attr('height','55');
	
vector.append('line')
	.attr('x1','222')
	.attr('y1','11')
	.attr('x2','11')
	.attr('y2','255')
	.attr('stroke','green')
	.attr('stroke-width','11');

vector.append("text").text("Yo").attr("font-size",35)
	.attr("x",150) .attr("y",150)
	
// plot

var g = svg.append('g').attr('id','plot')
		.attr('transform','translate(0,320)');

var bars = g.selectAll("#plot")
	.data(datArr)
	.enter()
		.append('rect')
		.attr('width', scale )
		.attr('height',33)
		.attr('y' , (d,i) => i*44 )
		.attr('fill',color)
		.attr('stroke','black')
		.attr('stroke-width','3')

var axis = d3.svg.axis().scale(scale).ticks(11);
g.append('g').call(axis).attr('transform','translate(0,180)');

// enter update exit

var euxData = [10,20,30];
//var euxData = [10,20];
//var euxData = [10];

var eux = svg.append('g').attr('id','eux')
	.attr('transform','translate(277,55)')
	;
eux
			.append('circle')
			.attr('stroke','black') .attr('fill','lightgreen')
			.attr('cx',11) .attr('cy',22) .attr('r',33)
	;
eux
			.append('circle')
			.attr('stroke','black') .attr('fill','lightblue')
			.attr('cx',11) .attr('cy',122) .attr('r',33)
;
var cls = eux
	.selectAll('circle')
	.data(euxData)
	;

	cls.attr('fill','red')
			.transition()
			.duration(2222)
			.delay((d,i)=>i*555)
				.attr('cx',222)
			.each('end',function(){})
	cls.enter()
			.append('circle')
			.attr('stroke','black')
			.attr('fill','lightyellow')
			.attr('cx',(d,i)=>i*66) .attr('cy',55)
			.attr('r',(d,i)=>d)
	cls.exit()
			.transition()
			.duration(2222)
				.attr('fill','blue')
				
// 10. tutorial .json load

d3.json('D3js.json', function(dat) {
	var json = d3.select('body').insert('svg','#vector').attr('id','json')
		.attr('width',W)
	json.selectAll('rect').data(dat)
		.enter()
			.append('rect')
			.attr('width',(d,i) => d.age *7 )
			.attr('height',22)
			.attr('y',(d,i) => i*25)
	json.selectAll('text').data(dat)
		.enter()
			.append('text')
			.attr('fill','white')
			.attr('y',(d,i) => i*25+18)
			.text((d,i) => d.name)
			.attr('x',5)
})

// 11. Paths

	var pthdata = [
		{x: 10, y:20 },
		{x: 40, y:60 },
		{x:  5, y:70 }
	]

	var pth = d3.select('body').insert('svg','#vector').attr('id','pth')
		.attr('width',W)
		
	var pthg = pth.append('g')
	
	var linegen = d3.svg.line()
		.x(d => d.x)
		.y(d => d.y)
	
	pthg.selectAll('path')
		.data([pthdata])
		.enter()
			.append('path')
			.attr('d',linegen)
			.attr('fill','magenta')
			.attr('stroke','black')
			.attr('stroke-width',4)
			
// 14. tree layout
			
  var tree = d3.select('body').insert('svg','#vector').attr('id','tree')
  		.attr('width',W)
  		
  var mips220 = {}
	
  d3.json('mips220.json', dat => mips220 = dat )
  
  var diagonal = d3.svg.diagonal()
  
  tree.append('path').attr('d', diagonal)

</script>
